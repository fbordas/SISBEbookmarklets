<!doctype html>
<html lang="es-DO">
    <head>
        <meta charset="utf-8">
        <title>SISBE Bookmarklets</title>
        <style type="text/css">
            body { font-family: Helvetica, sans-serif; font-size: small; }
            .center { text-align: center; }
            .table { display: flex; vertical-align: middle; }
            .table > div { padding: 5px; width: 45%!important; vertical-align: middle; text-align: center; }
            h2,h3,h4 { padding: 0px!important; margin: 2px!important; }
            .i { font-style: italic; }
            video { border: 1px solid black; }
            .small { font-size: x-small; }
            .compact { margin: 0px!important; padding: 0px!important; }
            ul { margin-top: 0px!important; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; }
            .changelog { border: 1px solid black; margin: auto; width: 80%; padding: 5px; height: 80px; overflow-y: scroll; }
            .changelog > h3 { display: inline; }
        </style>
        <script type="text/javascript">
            function loadVid(id)
            {
                document.getElementById("src").src = id + ".mp4";
                document.getElementById("vid").load();
                document.getElementById("vid").play();
            }
        </script>
    </head>
    <body>
        <div class="center">
            <h2><span class="i">Bookmarklets</span> para SISBE</h2>
            <div class="table center">
                <div>
                    Los siguientes <span class="i">bookmarklets</span> ser&aacute;n de utilidad para agilizar el trabajo de asignaci&oacute;n de permisos a m&oacute;dulos y productos en SISBE.<br /><br /><br />
                    <h3>
                        <a href="javascript:(function(){var f=window.frames;while(f.length>0){f=f.frames[0];}var doc=f.document;if(Array.from(doc.getElementsByClassName('td_tituloazul')).filter(function(item){ return item.innerText.toLowerCase()=='perfilar módulos a usuarios'; }).length==0){alert('Página activa actual no es Perfilación de Módulos a Usuarios, este bookmarklet no funcionará.');return;}var checks=Array.from(doc.getElementsByTagName('input')).filter(function(item){return(item.getAttribute('type').toLowerCase()=='checkbox'||item.getAttribute('type').toLowerCase()=='text')&&item.getAttribute('id')!='txtRif';});for(var i=0;i<checks.length;i++){if(checks[i].getAttribute('type').toLowerCase()=='text'){checks[i].value='9999999999,99';}else{checks[i].setAttribute('checked','checked');}}})();">[Módulos] Marcar todo (cotejos y montos)</a><br><br>
                        <a href="javascript:(function(){var f=window.frames;while(f.length>0){f=f.frames[0];}var doc=f.document;if(Array.from(doc.getElementsByClassName('td_tituloazul')).filter(function(item){ return item.innerText.toLowerCase()=='perfilar módulos a usuarios'; }).length==0){alert('Página activa actual no es Perfilación de Módulos a Usuarios, este bookmarklet no funcionará.');return;}var checks=Array.from(doc.getElementsByTagName('input')).filter(function(item){return(item.getAttribute('type').toLowerCase()=='checkbox'||item.getAttribute('type').toLowerCase()=='text')&&item.getAttribute('id')!='txtRif';});for(var i=0;i<checks.length;i++){if(checks[i].getAttribute('type').toLowerCase()=='text'){checks[i].value='0,00';}else{checks[i].removeAttribute('checked');}}})();">[Módulos] Limpiar todo (cotejos y montos)</a><br><br>
                        <a href="javascript:(function(){var f=window.frames;while(f.length>0){f=f.frames[0];}var doc=f.document;if(Array.from(doc.getElementsByClassName('td_tituloazul')).filter(function(item){ return item.innerText.toLowerCase()=='perfilar cuentas a usuarios'; }).length==0){alert('Página activa actual no es Perfilación de Cuentas a Usuarios, este bookmarklet no funcionará.');return;}var cbs=doc.getElementsByTagName('select');for(var i=0;i<cbs.length;i++){cbs[i].selectedIndex=1;if(cbs[i].options.length>1){if(cbs[i].options[cbs[i].selectedIndex].text=="X"){cbs[i].selectedIndex=0;}}}})();">[Productos] Marcar firmas disponibles</a><br><br>
                        <a href="javascript:(function(){var f=window.frames;while(f.length>0){f=f.frames[0];}var doc=f.document;if(Array.from(doc.getElementsByClassName('td_tituloazul')).filter(function(item){ return item.innerText.toLowerCase()=='perfilar cuentas a usuarios'; }).length==0){alert('Página activa actual no es Perfilación de Cuentas a Usuarios, este bookmarklet no funcionará.');return;}var cbs=doc.getElementsByTagName('select');for(var i=0;i<cbs.length;i++){cbs[i].selectedIndex=0;}})();">[Productos] Limpiar firmas disponibles</a>
                    </h3> 
                </div>
                <div>
                    Videos de demostraci&oacute;n:<br />
                    <a class="small" href="javascript:loadVid('bkm')">C&oacute;mo Guardar</a> | 
                    <a class="small" href="javascript:loadVid('mod')">Permisos/M&oacute;dulos</a> |
                    <a class="small" href="javascript:loadVid('prd')">Firmas/Productos</a><br />
                    <video controls="true" loop="true" autoplay="true" muted="true" width="556" height="312" id="vid">
                        <source src="bkm.mp4" type="video/mp4" id="src" />
                        Su navegador no soporta el elemento de video nativo.
                    </video>
                </div>
            </div>
        </div>
        <div class="compact">
            <h4>Observaciones importantes:</h4>
            <ul>
                <li>Cada <span class="i">bookmarklet</span> s&oacute;lo funcionar&aacute; en la secci&oacute;n correspondiente de SISBE.</li>
                <li>Si se intenta utilizar un <span class="i">bookmarklet</span> en la secci&oacute;n incorrecta, se mostrar&aacute; un mensaje y no se realizar&aacute;n cambios a la p&aacute;gina actual.</li>
                <li>Los <span class="i">bookmarklets</span> han sido probados y verificados tanto en Chrome/Chromium como Firefox. <span class="i">NO</span> se garantiza su funcionamiento en Opera, Safari, Internet Explorer o Microsoft Edge.</li>
                <li>Los <span class="i">bookmarklets</span> han sido probados y verificados en todos los ambientes (DEV, SQA, PREP).</li>
                <li>En el m&oacute;dulo de firmas, se seleccionar&aacute; la primera firma disponible para cada elemento, cualquiera que sea.</li>
                <li>Si alg&uacute;n m&oacute;dulo o transacci&oacute;n no tiene esquemas de firmas definidos, el <span class="i">dropdown</span> correspondiente no se ver&aacute; afectado, debido a que no tendr&aacute; elementos.</li>
                <li>Si se cambia manualmente un cotejo o una firma antes de usar el <span class="i">bookmarklet</span>, el mismo no tendr&aacute; acceso a ese elemento hasta volver a cargar la p&aacute;gina.</li>
                <li>Para cualesquiera informaciones o instrucciones adicionales, favor contactar a <a href="mailto:fernando_bordas@bhdleon.com.do?subject=Bookmarklets%20SISBE&body=Tengo%20una%20pregunta%20o%20solicitud%20sobre%20los%20bookmarklets%20de%20SISBE.">fernando_bordas@bhdleon.com.do</a>.</li>
            </ul>
        </div>
        <hr />
        <div class="changelog">
            <h3>Changelog:</h3> (Cambios m&aacute;s recientes se muestran al inicio.)
            <ul>
                <li><span class="i">2021/04/19:</span> Actualizaci&oacute;n para que los <span class="i">bookmarklets</span> no hagan modificaciones y muestren un mensaje de error si se utilizan en la pantalla equivocada.</li>
                <li><span class="i">2021/03/03:</span> Versi&oacute;n, lanzamiento y demostraci&oacute;n inicial.</li>
            </ul>
        </div>
</body>
</html>
